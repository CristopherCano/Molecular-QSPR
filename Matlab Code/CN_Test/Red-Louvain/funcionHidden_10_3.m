function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 26-Jan-2021 20:51:15.
% 
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 23xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [0.166666666666667;0.333333333333333;0.666666666666667;0.222222222222222;0.0952380952380952;2;0.5;2;2;2;2;0.666666666666667;0.333333333333333;0.166666666666667;0.2;1;0.4;0.2;2;2;2;2;3.06849315203002];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.14696240087152409592;-0.35000851914769282036;-0.0078277475600867091332;-0.10460629335064351719;-0.41602563109485707349;0.19697082955795011672;0.00061306756957598188256;0.14785931468555454926;0.0022680501706606476936;0.069356975853501673379];
IW1_1 = [-0.42149193101166387843 -0.51392545906845676917 -0.50521368791065435211 0.0037945365007760779863 1.1434114910667394494 -0.22795710513045616685 0.22308574973912811967 -0.44044011494288382025 0.052479739641037990994 0.047814111391999973566 0.028138471470090804794 -0.74905859346022019007 0.17851547241138251976 -0.41595658341840247019 0.31359804979806321645 0.3759834367868108429 -0.38395828232144585401 -0.13368010296537088943 -0.11103958888226643509 0.16610140668177789114 0.09717768145852340167 0.25240237417079747217 -0.22531017625786617375;0.21317522862426935282 -0.49756236422172900324 0.33379768638275092441 -0.5051886583615973203 0.8960723949968771862 0.073132615860084321247 0.43149409615694767073 -0.30224757051644385308 0.19777146853423147044 0.27776234463486038084 0.31650136526699540473 -1.6927595061640638985 -0.93622695496888486133 -0.073507249979900546322 0.047955903997865929889 -0.043120589368549532006 0.065774605940494959566 -0.13929909034353485375 0.22472873320906644468 0.26395916256426399382 0.22244972231056814316 -0.11460166967037420382 -0.096472805119000526464;-0.066116500711179193583 -0.30535322731498393267 0.42163305817243806883 -0.48719075302374892367 0.74463297687206941866 -0.030569441830709091074 -0.85600293253822457018 -0.35430710163829320924 0.13095592262438027209 0.075448453209083748972 0.13644986746619677809 0.21484924964556054161 0.38986106792628205664 -0.25499063135344496311 -0.33028566891750887891 0.33373081497959272701 -1.1813018630298446343 0.15304008530755802697 0.16213926263574268694 -0.064696419901054319501 0.079991299953653893784 0.010626543810169815363 -0.11570818240527598608;0.071100325946218442819 -0.010989878765471704919 0.17584037573750402328 -0.61104761309812094527 0.24854357472130125806 0.16081368794486627927 -0.11792052862533264346 -0.5075016095253992443 0.035926975679661750374 0.1878001983278267395 0.31299626720226780829 -0.39024052191210434337 -0.77316067214223160864 0.096017377228990910543 0.33225566982979781727 0.7022833805763839532 0.15933557883521162757 -0.39519765509045556851 -0.12044507846622674874 0.32444763064015486043 0.18464688752424338047 -0.031230670313364558566 -0.61686409018290633277;0.44474871039801538997 0.0080132853959772095548 0.36971710150424968999 -0.13880848848788088223 -1.364776938368752246 0.049901777953542704458 -0.2446220305355529534 0.14894293997203295055 0.014032905416614165073 0.38260782950149824222 -0.19033206706000310726 0.80055386290265284632 -0.94301859635388618486 -0.18343458802870649116 0.0036811663247599429351 -0.045857732315461488537 -0.43358297146448787629 -0.34513137608831745418 0.022203557711606272673 0.14981409776204598905 0.40065954393885422347 0.006967995273790947644 -0.56357194307375246822;0.13699620495155825917 0.099830312689894770695 -0.03073256028577299806 0.27203915682077550731 0.47409583363925955624 -0.33743837800535186888 1.2218973019497518795 -0.046921312459178098064 -0.3545883862293180977 -0.089191463747697499742 0.023421885957335793899 -0.52644612978085669752 -0.69412297473456552321 0.80670958806280879116 0.11502259874479843493 -0.61378571258925196386 0.24785455383399501716 0.55512187008285418521 -0.45213470788302373427 0.034224166928884421079 -0.085940431984212972694 -0.24053467912834944342 0.26748822494273749584;-0.31939425742258792384 -0.036083843000852704186 -0.4932125076285707177 1.2460691872307729788 0.67456289442413552848 0.16179528174168197885 0.0020951178460161942393 0.104153793697265587 0.27712995516930444273 0.114412003294111983 -0.036104522001606478843 -1.2196675180766105573 0.17306012404551132655 -0.31108325435892297817 0.078065962402943431253 -0.37842581281461146192 -0.22353495418570198949 -0.13747173264046488872 0.12203514737286566549 0.061237351098856487863 0.028921729806872589763 0.3832381191852304303 -0.80185253656484101192;0.015106215648016962233 0.67579546280325453189 0.47298973219037526716 -0.28499406053964088104 -0.79999886928187990964 0.22639880853777466507 -0.18283159685429706265 -0.0032964176108167958512 -0.041297409431572722205 -0.19258829538856195307 -0.10426116368185595062 -0.65539928913428691093 -0.43554694983008968023 0.16342944588753413604 0.11732507945097661595 -0.012724736023776868007 -0.30118277808108046001 -0.38837150942239129225 0.26752178582438707055 -0.22954589713932610495 -0.16915127961229708964 0.40199699455495502276 -0.53914719160985491442;-0.44730141948156482146 -0.093553394827103814047 -0.11942593007840640595 0.14992694769894124307 0.4464158959397144244 -0.24611679740655209581 0.51293159491120443594 0.13964778720866069528 -0.002766596206763762434 -0.046318883275458633264 -0.056347838703405477012 0.25531457055868272965 1.1733686591951912881 0.6671424561973374745 -0.41678961100290223829 -0.64547881031316833855 0.11351995258424664448 0.25627628155113008068 -0.58697715421578933181 0.19564335977794319876 0.034010633663907080537 -0.0073011326403458432985 1.7008205121476402955;-0.087666633397761678514 0.90821394451544568138 -0.29497381538993266981 1.2002561599202856701 0.51611141441420183007 0.080766384001449503804 -0.90692037358863453189 0.056750201116390182332 -0.18081326256750357429 -0.14326591546477854267 0.12188205035952982824 0.0048557163861666962149 0.6004407279483841009 0.1149467515950053087 -0.32965245109871860185 -0.21012435147575359018 -0.31174971157658626364 0.61121155119825154589 -0.16190016104454640899 -0.13105565084527839859 -0.27939852700546136122 -0.011547711593519468382 -0.71538508477327811264];

% Layer 2
b2 = 0.012094534080970720247;
LW2_1 = [-1.4821260324881548875 -1.6521174306547370403 1.5912211155028899157 1.222884306312279401 -1.2966385264449438175 1.4578406604783871181 1.5591864178117227357 -1.2599467754838296063 -1.1479857551378542802 -1.4904387060924570996];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.0196656833824975;
y1_step1.xoffset = 0;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
