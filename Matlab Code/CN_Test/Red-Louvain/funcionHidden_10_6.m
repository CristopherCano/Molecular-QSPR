function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 26-Jan-2021 20:52:04.
% 
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 23xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [0.166666666666667;0.333333333333333;0.666666666666667;0.222222222222222;0.0952380952380952;2;0.5;2;2;2;2;0.666666666666667;0.333333333333333;0.166666666666667;0.2;1;0.4;0.2;2;2;2;2;3.06849315203002];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.21440559391575880754;-0.44438696586452747228;0.25094973714066515225;0.076202160296986468091;-0.047409526343831193129;0.035726167909831227365;0.42954058978078835107;0.24209070848028310663;-0.12944714711069107982;0.21424149777975204367];
IW1_1 = [-0.72487174124693642963 0.56852152394852817352 -0.11484530885602162176 0.62876925797053695444 0.21334401246555390053 0.1991365793822051089 -0.41749269327092336512 -0.094577332076672904204 0.11512151338231045583 -0.28898351050699339071 -0.078292659866120925538 0.87291844289921693978 1.0015014052789943388 0.38685286196364265798 -0.3875728402707652176 -0.22769387546037681003 0.018668804576459519656 0.32989082431280680741 -0.10622201373050660367 -0.056180796055838255754 -0.30200930354878019468 -0.056815916622027971827 1.3645957513126498739;0.68425112346838667943 -0.050156953387610135608 0.31334709376176217432 -0.21952555392050135397 -1.7198883796456394535 -0.33117290106057178933 -0.34868166640086789565 0.36864656736774914503 0.0032394827966198409645 0.33930241279411899047 -0.14528026008870037478 1.2184807994646036367 -1.008067077306586512 -0.58735215465334034146 0.078201267279987413117 0.13737246720474563522 -0.38186064205407727057 -0.5535765542704903508 0.34456360706736460786 0.21523326693769212481 0.31558510880112500274 0.11845876320087618538 -0.8191550040021295942;-0.19257191736223397416 0.35009514950609782469 -0.79626884124156316336 0.70738153035960171788 0.87189761352269279371 0.091770312225511976867 1.4906948590496760243 0.028963118398553037297 0.080603280622464565375 -0.18697057404485153964 -0.061136441404526578602 -0.48816547102250396062 -0.79101169776308388748 0.26585652571437717873 0.36673273005138989911 -0.5013306585445655994 -0.034321049906703877952 -0.72831322074991089455 0.39616557517961548118 0.075599469856157980319 -0.081261768374962156658 -0.022341084593561381239 0.14729960373053105349;-0.34762544807418693793 0.64333485273374602098 -0.087228721011676377262 0.82297368141734328351 -0.98862554777314470833 0.044028483192285985948 -0.36294331258752204894 -0.031635100396298986014 -0.061725324379231991112 -0.14614174218999906318 -0.27267841684467231111 -0.31104479412059277132 0.97961338247951024183 0.48519581917235038437 -0.27105605793732745479 -0.045069012743604898452 0.27662202699916071946 -0.68306640739498158954 0.039257822440869213909 -0.15137263098364395209 -0.071583029162967867776 -0.11578883647425866621 0.060542132719507243954;-0.042026777422548615426 -0.1302103900795437974 -0.98262241138420580722 0.30029263788901316978 0.66564002602226735039 -0.23512157213887088791 -0.16215705610748223919 0.092865293814399632599 -0.22692947630648244162 -0.13634591789337316414 0.11459357843278866751 -0.75168761775442771711 0.50853042969643891258 -0.19669223018922912805 0.10371834612531107001 0.6243527325035168607 -0.31707787766578160449 0.14621153618748009007 -0.21429332349028212823 0.057429505233294021738 -0.055807434084063300972 -0.018325886173536427848 -0.24229176312481234823;0.13123876096806880165 0.25337859091585224203 0.055343354560953836319 0.50569064707948963022 -1.0042972205187103985 -0.18415426956537853109 -0.68788112614539431711 0.49678681436342692068 -0.035289719623059261078 0.10606571500239730943 -0.11153801774106671119 0.41846926808806977904 0.46457253279664217915 0.86645639602215474007 -0.44204628838854725936 0.019644951884999612562 -0.24051909684219585639 -0.28544645374671268057 0.24682389588775260902 -0.057443781816821505581 0.015105267276488953607 0.070255774449605651322 1.3567755825789391544;-0.034910627018165336921 0.068174914761570254429 -0.13010882864853456908 0.11723717458621350784 -0.349381568101050477 0.11848740279583563906 -0.356579853833833893 -0.30552728368141535142 -0.22550118416023196 -0.30183935331676386982 0.20423194652225534762 1.2235683950363367423 0.99158940277665574836 -0.31559464768179895655 0.3408807763457885609 0.026247212168871977833 -0.039256524184535485089 0.34817685846444457187 -0.30983353951502501378 -0.25052182901920572178 -0.30266246916920097609 -0.29297959288208369477 -1.1727333156098795897;0.083535880347282806535 0.17690521389075380965 -0.23824687210429540407 0.92418073153433555333 -0.33338603054890231236 0.1157123050655894797 -0.48852394269812793315 0.027026925464491237394 -0.14888500700417994782 -0.16634821999801971404 -0.14850115427864296613 -0.62407377076239367586 0.81830650919151326494 0.052738010033879186012 0.24055324837668673466 0.78310102939967507485 0.12077407106568682771 -1.0727144525775726969 0.13580271488102740873 -0.41074100926367118625 -0.26225786241581316993 -0.46670849159511129667 -0.26999619320291956548;-0.24431998411594124665 -0.48650954516924554971 0.29998603912326304854 -0.45700482190578367581 -0.16418281677543342112 -0.35453153540154175305 -0.46280993485179083846 -0.092368036755336918597 0.17369184753780711472 0.20051924679612698199 -0.12291409322934111759 0.13406439564215291704 -0.51989629422480798659 -0.1849955775274170211 0.062626929829698599339 0.82008529188911116758 -0.18834996048305874261 0.68985637311433778418 -0.24791096890389496821 0.2406960540054299269 0.25230960394859136553 -0.13381802981271395669 -0.23447038726029439948;0.017519274702479496059 0.35302577124940998088 0.42579576676054664564 -0.40092876410960714972 -1.2030570929140911307 -0.18971450422817048853 -0.39615273814031803923 -0.54371915586168240164 0.14843019285474526314 -0.33955367322921470308 -0.037686398286775300848 0.94745411280861124848 -0.12948388614869005275 -0.025700527717153472812 0.52265747073320290017 0.86602719329439492579 0.1336367184389838092 -0.93212618825510717979 0.033988581556449064258 -0.22742879236484669914 -0.23896937474869001106 -0.6126148207585139227 -0.65155819531418346369];

% Layer 2
b2 = 0.40452924219063163269;
LW2_1 = [-1.3043675488702015652 -1.2866858160249559084 1.4912762143063489351 -1.2466404687572880672 -1.1821892336623971431 1.4464683518691676678 1.6213963715729435844 1.542389608870701645 1.6176578362507880726 -1.2506972080450380336];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.0196656833824975;
y1_step1.xoffset = 0;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
