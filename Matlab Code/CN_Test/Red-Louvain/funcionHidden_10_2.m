function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 26-Jan-2021 20:51:07.
% 
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 23xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [0.166666666666667;0.333333333333333;0.666666666666667;0.222222222222222;0.0952380952380952;2;0.5;2;2;2;2;0.666666666666667;0.333333333333333;0.166666666666667;0.2;1;0.4;0.2;2;2;2;2;3.06849315203002];
x1_step1.ymin = -1;

% Layer 1
b1 = [-0.15106838240193670719;0.1257216742385425523;0.078264688136478771652;-0.20481614167565509455;0.36889971434288709728;-0.2991864459029718315;-0.30129412551522111174;-0.43600729548889294307;-0.1359572507933914931;0.098683522467412312928];
IW1_1 = [-0.13841235403265131354 -0.11766001036339121533 -0.64421041024197667202 0.62953113010569505814 -0.22548468621101028231 -0.21124782759654925357 -0.43517187481170344077 0.1378418516497195434 0.06871249964706671598 0.12370633281602332054 -0.068724738146153638296 0.33339374296741208781 0.578886267292230694 0.10108377701313668584 -0.44041137083789205775 -0.14656065821760497214 -0.28628939120104957006 0.42986449557127276444 -0.11265419577661518746 -0.18217872017298963883 -0.028286386530542474704 0.16235255133245179993 0.87504499409591729453;-0.061740192265785455439 0.69805156337992091409 0.06846089067024437036 0.10334164736911365112 0.0047828676215698065835 0.35529650623883407556 0.43915147653582131682 0.21482517321973926272 -0.089783124617379986288 -0.25851629800740016929 -0.17047460045385962046 -0.46882575803748000043 -0.31084570398902389154 0.095754165432413052006 0.12106936717115215907 0.17094271231854962778 0.9485363537632705011 -0.3507100359640696885 0.097100881545550271623 -0.16748446871127475877 -0.32137832929195131459 -0.28988517147962622467 0.37688221002445138064;-0.59238574518302045124 0.42597715312877754146 -0.24993368734656240537 0.67616902448612159482 0.074156129350383057086 -0.15965641530611959786 0.18395419219521885745 0.14293193034186271739 0.12972364709099365454 -0.18735910965150112673 -0.14168505333182909722 0.57111614166110691304 1.2803928620917555126 0.28209132667769359903 -0.24760840609503492749 -0.55849413560530603018 -0.19442399743975372073 0.37735585348401867734 -0.39411725657703067238 0.099639458450602694239 -0.12326021637137953013 0.020450188994754352895 1.5125861551632799884;0.27153767504137793498 0.33463034690327941867 0.61903599725396940556 -0.083637869646627976961 -0.69730765080018330959 -0.27909949004439832398 0.077261330431263319785 -0.2774901278533300486 0.068305975818282502199 0.050454674741365251878 -0.1754750521132076857 0.77296515592203196565 -0.52330663014992739868 -0.012543353686821029011 0.13214047188712141345 -0.89402257001065832398 -0.10488103264922586655 -0.19189854208608200792 -0.31748968030617064073 0.11423140854405632039 -0.0080827127556707747957 0.32579419068093290468 0.18805252810627923199;0.2205188537667826798 0.10065279068893566439 -0.089648674353573210016 -0.27119234760391747185 -0.26355527468182693429 -0.16433103831441459031 0.65195820168927420823 -0.090759759382146809603 0.048517161052007914956 -0.23204594100504355447 -0.23853853441010453018 0.38486761545994752076 -0.70665177874137685698 0.20793408277208660917 -0.067811815249375226311 -0.088947041897343995243 0.12075489994310603659 0.67910171320035783715 -0.53653607684839232927 0.2627983369826805693 -0.10212627246696390215 -0.3273379644870618721 0.56258570928468587535;-0.21095003654419502981 -0.29168027605379587275 0.2769948276204395321 -0.91874597447168593334 -0.64459564226163268419 -0.014970977615423293819 -1.1032434512809241589 0.079688633800760397263 -0.12528963080096952587 0.039223287269704323887 -0.080356422771612548428 0.54399027752089457177 1.0811798625913773275 -0.014178316650774814081 -0.2923563212088264307 0.70263126387007457385 -0.057838481863456144005 0.44711060262006968591 -0.26958527552375827208 0.2817042558989314438 0.069965084820288236944 -0.031761132135942511667 0.27022248591541042639;0.68640156939468877084 -0.032407660708127825067 0.40595431083714988985 -0.21579430206416930216 -1.5532181132733064999 0.13055655247629605054 0.047214918986027837322 0.16924022206132782742 0.13197056363927955891 0.065018263785544261335 -0.16770094619772032973 1.1321798763173915869 -0.93455826694751076289 -0.65607495111608549188 -0.017220454198774416688 0.21488194513260300278 -0.42337208164030670776 -0.32978480820393207829 0.13843878916656510158 0.10772189111744912005 0.21362875147084819938 0.090382734327071251323 -0.66592640318102969132;0.027312753856951654113 -0.33974332235972648508 0.034601900978887656368 -0.49615334798247046066 0.96384731078397412052 -0.10357437285006997063 0.18278170866519921622 -0.27205396845631857339 0.012284131067700373302 0.13603219544751024572 0.18754228219574739511 -1.0346281286340544003 -0.76112353725034731511 -0.057947927707881367876 0.27156108267473511031 -0.091459261272046052382 0.18628882811250638274 -0.20103775666557369139 0.19195737434347848183 0.10535140953292340682 0.18429739370423373068 -0.1835629805963508443 -0.67207107065899951426;0.25958342439124970635 -0.31655603561054973527 -0.35111804362892989895 -0.10168199463876734234 1.3240390180973171663 -0.12322841360132494315 0.15414562458483491159 0.24284033730361828662 -0.042030522861412122904 0.16482935887199662295 0.047948850937947012918 -0.092135501088422486204 -0.18648226641484952348 -0.51795262742579029069 0.35008958416751978504 0.0067148390123185188252 0.24557262491423262341 0.25534818609488169061 -0.12321715534193061758 0.17825459526969777979 0.13904067935910319198 0.28682756133587394842 0.94981859944915247862;-0.34208759741658445463 -0.11577647716047755055 0.80454365872371735868 -0.69843298183374391552 -0.70779448006807654803 0.074097087161062488714 -0.42598991558549137437 0.019313279635380348198 0.0053681482788587326499 0.099363853023505199769 -0.056080433307071970994 0.65882339752841290181 0.07365523613542433734 0.26455208231694532506 0.52523525442087259929 0.0020067018224239419402 0.53325264069814570789 -0.11109222077878740109 0.34250283655388319426 -0.12062746173521879389 -0.02000724392539685384 0.073203123801516473135 0.1846157778066677968];

% Layer 2
b2 = 0.36262255445822655364;
LW2_1 = [-1.0243003915271311488 -1.4771514279041610962 -1.063427643573227499 -1.2436771343090662345 1.4240152676015485067 -1.3832948433444294256 -1.1402357500603652607 -1.8532270469795688594 0.6054791585719093705 1.3268428362937383369];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.0196656833824975;
y1_step1.xoffset = 0;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
