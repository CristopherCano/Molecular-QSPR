function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Auto-generated by MATLAB, 26-Jan-2021 20:53:39.
% 
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 23xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [0.166666666666667;0.333333333333333;0.666666666666667;0.222222222222222;0.0952380952380952;2;0.5;2;2;2;2;0.666666666666667;0.333333333333333;0.166666666666667;0.2;1;0.4;0.2;2;2;2;2;3.06849315203002];
x1_step1.ymin = -1;

% Layer 1
b1 = [0.13801863430625888052;-0.22278897429738422908;-0.14109694571438682886;-0.23654472298488044002;0.24252912328491732508;0.19595852454549844701;0.001708029323896376097;0.18087119901751794182;0.39341713469331768271;0.13479439860582548283];
IW1_1 = [-0.39078555444999157897 -0.27484946098293105976 0.38363830264044895824 -0.31733167036854231791 0.022337415603248624019 0.084849798350342356401 -0.24301535760517492535 0.078343369379226299176 -0.14327477687471076861 0.0090414901028107608899 0.079899224392893652968 0.51275658395574841286 -0.61117162522819590276 -0.62504061180116188279 0.081377780973929322861 0.47568794549029469465 -0.039740376693855099244 0.7904085304734714823 -0.28064474326754423883 0.14466394643349830829 0.12648850239163414444 -0.26209302634007186628 -0.3941918024189342562;0.17656920958782337805 0.02104900906359444962 0.34703786505948841512 -0.69330965030682567551 0.28497481666168134051 -0.087410315753171277664 0.088212563017741205118 -0.022857437954169623068 0.19957717300114122261 0.064494300096376383502 0.26693639106193922661 0.31547794806273660173 -0.6388433364456954644 0.062892988366981122939 -0.16429854002366414689 -0.82823387669746306727 0.015958203784143643045 0.72630018902806903203 -0.17279102973990820291 0.29559875912570776624 0.16797112329795793606 0.25731235095382076761 0.43608619370652079716;0.54605326969212542032 -0.63700471147127535332 0.4759367887653350726 -0.58119704901069746406 -0.097446470960098605096 0.14754343785493745367 -0.37997683540120441581 0.095490178489588448119 0.11580920743392485173 0.22553657971996329823 -0.055287479086605625933 -0.76495558370439731277 -0.93535092412204956513 -0.12446942581924307081 0.29070723017968658208 0.33435486514959839033 -0.15827592710578031188 -0.23468182855638214379 0.32138925827069841912 -0.096615454949657453287 0.14221419232266740984 -0.053517215477959061143 -1.3489259969229605574;-0.062522741301218889842 -0.39401684163688932561 0.21518160831650309794 -0.39338357705316523427 0.75720243020418054325 0.0087008355882365537304 -0.050238285839989987869 0.04103710120212182566 0.11217842562539799556 0.13996911732208280887 0.060115421735810636861 -0.96022076529997035799 -1.05921717919008751 -0.27425507999731685294 0.20229041882451123668 -0.2268431293220784517 0.24159650742678351332 0.27136561162789252233 0.03975906958896981841 0.26252586003264022363 0.23552999551464801065 -0.30865640427535595558 -0.86278238833742026959;-0.093375690425983634557 -0.035029631083135275016 1.0694463107378908706 -0.56906473451785333229 -0.57259747584723907909 0.34783105134499564537 -0.47793306541766067408 0.08970676996396867442 0.075392559861116287268 0.0064554138200099862518 -0.19571870933295107409 0.57807123124990988927 -0.12687164135332090753 0.25298794292028992103 0.21993979271610822335 -0.15240772216602799238 0.23367908165203349347 0.31134302289853860168 0.41151488964730226217 -0.074000932770519542436 0.047150252903648444402 -0.21537710632043285952 0.082218868170279832408;-0.21057963058308726279 0.21593279892903730066 0.028443615300190079609 0.57412039772893985745 -1.2819791657991290723 -0.018870563170733000574 0.011996783400380199927 -0.020618686311271595957 -0.13441592045850392356 -0.22483985073816789568 -0.68618009773874111268 -0.19664408731906654615 1.271761527407562653 0.35999349441796962834 -0.25480441139837239906 -0.17117490370292887114 0.10030274785775371293 0.038335756238793698703 -0.14153794068821151653 -0.23584397537022835922 -0.1981537707222296163 -0.38652907370334932402 -0.82546547344615195385;-0.37558332181345188694 0.038033015552797339032 0.44867344337424691636 -0.098782678922202465932 0.81792943138786666779 0.15349422548782751252 -0.27860135131760704885 -0.096880713052628172899 0.061449779209230739885 -0.061581652694976965479 0.20864978868017511338 0.10042757506535185397 -0.18157107395468233269 -0.11892605504480525946 0.0084050623657606626793 0.51905137718714422501 0.090892174631672928431 0.034024838480810899732 0.1218311735797895784 -0.010670908052183021575 -0.016171822607566669477 0.049545819842558680435 0.42547975567335433178;0.1874724115541924474 0.30691120853734848994 -0.6529836849298447099 0.63995189466587942828 0.65992339656444398699 -0.39718347251653363106 1.182305130198487042 -0.056571537798289460441 0.23958670201585693937 0.041368231898073155872 0.0091205337182702767018 -0.33520357282391949338 -0.84638679905121139146 0.4433413321267227758 0.20458173587989605946 -0.58293100822033405706 -0.17309469746903605181 -0.31294318913794927361 -0.14897553513207609233 0.11153098960801467732 0.063897083910759905345 -0.028439107072087962264 0.064822769738576965781;-0.44781019907044788964 -0.16072393595591447091 -0.48228273710097574467 0.15025423295899675846 1.5407333828548994692 0.040096832562369483233 0.03606633130029415768 -0.35271501015229506093 -0.070485838559642591261 -0.25266483639880765732 0.18267035734950073933 -0.96341200663460946352 1.1338768673619261662 0.5900061061692254416 -0.10442551022227332391 -0.05853044512011297551 0.28365857056879495435 0.50448299779390026742 -0.13812836401293152044 -0.068940395292987399767 -0.22742721043684976934 -0.10435944209610113764 0.57983445097413455205;0.37611710345160509483 0.46340325577630203657 0.56484870640324247315 -0.24756598542548180486 -1.2497457985777147282 0.043787550558666246681 -0.46224393453788586994 -0.63055697770755103626 0.015072703163197080645 -0.17308750405118836224 0.0035954258593980472671 0.50898693148430462774 -0.88598996858671008603 -0.14050666789300897408 0.40870203151559358901 0.32209637845488947594 0.21610767518116943964 -1.0870594699630620195 0.16120227834923231414 -0.23828726118420134883 0.0011394103068507208196 -0.21206653093087932116 -0.49581750543938313269];

% Layer 2
b2 = 0.35199202532275891686;
LW2_1 = [1.6119713906754096211 -1.1659933372054138712 1.2757371738806746464 -1.4599883942582116969 1.3633728288723951927 -1.0332428264208854962 -1.3062550388693290326 1.3546781377055991946 1.2272191193693624545 -1.0995680189899343926];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.0196656833824975;
y1_step1.xoffset = 0;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
